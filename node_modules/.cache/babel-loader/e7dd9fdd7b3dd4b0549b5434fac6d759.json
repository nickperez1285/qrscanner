{"ast":null,"code":"import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import _objectSpread from\"/Users/home_folder/Documents/qrscanner/qrscanner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/home_folder/Documents/qrscanner/qrscanner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{withRouter}from\"react-router-dom\";import{RadioGroup,FormLabel,FormControl,FormControlLabel,Radio}from\"@material-ui/core\";import QrReader from\"react-qr-reader\";import Axios from\"axios\";import Qrscanner from\"./Qrscanner\";var StatusLogger=function StatusLogger(props){var _useState=useState({email:\"\",password:\"\",confirmPassword:\"\",successMessage:null,orderID:\"\",status:\"\",ready:false}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),status=_useState4[0],setStatus=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),cam=_useState6[0],setCam=_useState6[1];var handleScan=function handleScan(data){if(data&&cam){setState(_objectSpread(_objectSpread({},state),{},{orderID:data}));getStatus(data);}};var handleError=function handleError(err){console.error(err);};var toggleCam=function toggleCam(){setCam(!cam);console.log(cam);};var handleChange=function handleChange(e){var _e$target=e.target,id=_e$target.id,value=_e$target.value;setStatus(value);console.log(status);};var getStatus=function getStatus(id){// preventDefault();\nvar stat=\"\";if(id){if(typeof id!==undefined){Axios.get(\"https://us-central1-saymile-a29fa.cloudfunctions.net/api/getKitchenStatus/\".concat(id)).then(function(res){return setStatus(res.data.kitchen_status);}).catch(function(err){return alert(err);});console.log(status);}}toggleCam();return status;};var updateStatus=function updateStatus(id){if(state.orderID!==undefined){var body=JSON.stringify({delivery_id:state.orderID,kitchen_status:status});console.log(body);fetch(\"https://us-central1-saymile-a29fa.cloudfunctions.net/api/updateKitchenStatus\",{method:\"POST\",mode:\"cors\",body:body}).then(function(res){return res.status==200?alert(\"Updated Successfully\"):alert(\"failed to update\");}).catch(function(err){return alert(err);});}};return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",flexDirection:\"column\",alignContent:\"center\"},children:[/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"div\",{children:state.orderID?/*#__PURE__*/_jsxs(\"h2\",{children:[\"Order:\",state.orderID]}):null}),state.orderID?/*#__PURE__*/_jsxs(\"h2\",{children:[\"Current Status:\",status]}):/*#__PURE__*/_jsx(\"p\",{children:\"Press Scan When Ready\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group text-left\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-success mt-2\",style:{display:state.successMessage?\"block\":\"none\"},role:\"alert\",children:state.successMessage}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:{width:\"10%\",alignSelf:\"center\"},onClick:function onClick(){return toggleCam();},children:\"Scan\"}),/*#__PURE__*/_jsx(FormControl,{component:\"fieldset\",children:/*#__PURE__*/_jsxs(RadioGroup,{style:{display:\"flex\",flexDirection:\"column\",alignSelf:\"center\"},name:\"Status\",onChange:handleChange,children:[/*#__PURE__*/_jsx(FormControlLabel,{value:\"Order Received\",control:/*#__PURE__*/_jsx(Radio,{}),label:\"1.Order Received\"}),/*#__PURE__*/_jsx(FormControlLabel,{value:\"Cooking\",control:/*#__PURE__*/_jsx(Radio,{}),label:\"2.Cooking\"}),/*#__PURE__*/_jsx(FormControlLabel,{value:\"Left Kitchen\",control:/*#__PURE__*/_jsx(Radio,{}),label:\"3.Left Kitchen\"}),/*#__PURE__*/_jsx(FormControlLabel,{value:\"On Campus\",control:/*#__PURE__*/_jsx(Radio,{}),label:\"4.On Campus\"}),/*#__PURE__*/_jsx(FormControlLabel,{value:\"Delivered\",control:/*#__PURE__*/_jsx(Radio,{}),label:\"5.Delivered\"})]})}),cam&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(QrReader,{delay:300,onError:handleError,onScan:handleScan,style:{width:200,height:100}})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{style:{width:\"10%\",alignSelf:\"center\"},type:\"submit\",className:\"btn btn-primary\",onClick:function onClick(){return updateStatus();},children:\"Update\"})]});};export default withRouter(StatusLogger);","map":{"version":3,"sources":["/Users/home_folder/Documents/qrscanner/qrscanner/src/components/StatusLogger.js"],"names":["React","useEffect","useState","withRouter","RadioGroup","FormLabel","FormControl","FormControlLabel","Radio","QrReader","Axios","Qrscanner","StatusLogger","props","email","password","confirmPassword","successMessage","orderID","status","ready","state","setState","setStatus","cam","setCam","handleScan","data","getStatus","handleError","err","console","error","toggleCam","log","handleChange","e","target","id","value","stat","undefined","get","then","res","kitchen_status","catch","alert","updateStatus","body","JSON","stringify","delivery_id","fetch","method","mode","display","flexDirection","alignContent","width","alignSelf","height"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { RadioGroup, FormLabel, FormControl, FormControlLabel, Radio } from \"@material-ui/core\";\nimport QrReader from \"react-qr-reader\";\nimport Axios from \"axios\";\nimport Qrscanner from \"./Qrscanner\";\n\nconst StatusLogger = (props) => {\n\tconst [state, setState] = useState({\n\t\temail: \"\",\n\t\tpassword: \"\",\n\t\tconfirmPassword: \"\",\n\t\tsuccessMessage: null,\n\t\torderID: \"\",\n\t\tstatus: \"\",\n\t\tready: false,\n\t});\n\n\tconst [status, setStatus] = useState(\"\");\n\tconst [cam, setCam] = useState(false);\n\n\tvar handleScan = (data) => {\n\t\tif (data && cam) {\n\t\t\tsetState({ ...state, orderID: data });\n\n\t\t\tgetStatus(data);\n\t\t}\n\t};\n\n\tconst handleError = (err) => {\n\t\tconsole.error(err);\n\t};\n\tconst toggleCam = () => {\n\t\tsetCam(!cam);\n\t\tconsole.log(cam);\n\t};\n\tconst handleChange = (e) => {\n\t\tconst { id, value } = e.target;\n\t\tsetStatus(value);\n\t\tconsole.log(status);\n\t};\n\n\tvar getStatus = (id) => {\n\t\t// preventDefault();\n\t\tlet stat = \"\";\n\t\tif (id) {\n\t\t\tif (typeof id !== undefined) {\n\t\t\t\tAxios.get(`https://us-central1-saymile-a29fa.cloudfunctions.net/api/getKitchenStatus/${id}`)\n\t\t\t\t\t.then((res) => setStatus(res.data.kitchen_status))\n\t\t\t\t\t.catch((err) => alert(err));\n\t\t\t\tconsole.log(status);\n\t\t\t}\n\t\t}\n\t\ttoggleCam();\n\t\treturn status;\n\t};\n\n\tconst updateStatus = (id) => {\n\t\tif (state.orderID !== undefined) {\n\t\t\tlet body = JSON.stringify({ delivery_id: state.orderID, kitchen_status: status });\n\t\t\tconsole.log(body);\n\t\t\tfetch(\"https://us-central1-saymile-a29fa.cloudfunctions.net/api/updateKitchenStatus\", {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tmode: \"cors\",\n\t\t\t\tbody: body,\n\t\t\t})\n\t\t\t\t.then((res) => (res.status == 200 ? alert(\"Updated Successfully\") : alert(\"failed to update\")))\n\t\t\t\t.catch((err) => alert(err));\n\t\t}\n\t};\n\n\treturn (\n\t\t<div style={{ display: \"flex\", flexDirection: \"column\", alignContent: \"center\" }}>\n\t\t\t<form>\n\t\t\t\t<div>{state.orderID ? <h2>Order:{state.orderID}</h2> : null}</div>\n\t\t\t\t{state.orderID ? <h2>Current Status:{status}</h2> : <p>Press Scan When Ready</p>}\n\n\t\t\t\t<div className=\"form-group text-left\"></div>\n\t\t\t</form>\n\t\t\t<div\n\t\t\t\tclassName=\"alert alert-success mt-2\"\n\t\t\t\tstyle={{ display: state.successMessage ? \"block\" : \"none\" }}\n\t\t\t\trole=\"alert\">\n\t\t\t\t{state.successMessage}\n\t\t\t</div>\n\t\t\t<button type=\"submit\" style={{ width: \"10%\", alignSelf: \"center\" }} onClick={() => toggleCam()}>\n\t\t\t\tScan\n\t\t\t</button>\n\t\t\t<FormControl component=\"fieldset\">\n\t\t\t\t<RadioGroup\n\t\t\t\t\tstyle={{ display: \"flex\", flexDirection: \"column\", alignSelf: \"center\" }}\n\t\t\t\t\tname=\"Status\"\n\t\t\t\t\tonChange={handleChange}>\n\t\t\t\t\t{/* onChange={console.log(props)}> */}\n\t\t\t\t\t<FormControlLabel value=\"Order Received\" control={<Radio />} label=\"1.Order Received\" />\n\t\t\t\t\t{/* <FormControlLabel value={{ code: 2, status: \"cooking\" }} control={<Radio />} label=\"2.Cooking\" /> */}\n\t\t\t\t\t<FormControlLabel value=\"Cooking\" control={<Radio />} label=\"2.Cooking\" />\n\t\t\t\t\t{/* <FormControlLabel value={{ code: 3, status: \"left kitchen\" }} control={<Radio />} label=\"3.Left Kitchen\" /> */}\n\t\t\t\t\t<FormControlLabel value=\"Left Kitchen\" control={<Radio />} label=\"3.Left Kitchen\" />\n\t\t\t\t\t<FormControlLabel value=\"On Campus\" control={<Radio />} label=\"4.On Campus\" />\n\t\t\t\t\t{/* <FormControlLabel value={{ code: 5, status: \"delivered\" }} control={<Radio />} label=\"5.Delivered\" /> */}\n\t\t\t\t\t<FormControlLabel value=\"Delivered\" control={<Radio />} label=\"5.Delivered\" />\n\t\t\t\t</RadioGroup>\n\t\t\t</FormControl>\n\n\t\t\t{cam && (\n\t\t\t\t<div>\n\t\t\t\t\t<QrReader delay={300} onError={handleError} onScan={handleScan} style={{ width: 200, height: 100 }} />\n\t\t\t\t\t{/* <Qrscanner /> */}\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t<br></br>\n\t\t\t<button\n\t\t\t\tstyle={{ width: \"10%\", alignSelf: \"center\" }}\n\t\t\t\ttype=\"submit\"\n\t\t\t\tclassName=\"btn btn-primary\"\n\t\t\t\tonClick={() => updateStatus()}>\n\t\t\t\tUpdate\n\t\t\t</button>\n\t\t</div>\n\t);\n};\n\nexport default withRouter(StatusLogger);\n"]},"metadata":{},"sourceType":"module"}