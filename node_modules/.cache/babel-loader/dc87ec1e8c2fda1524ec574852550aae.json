{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _defineProperty from\"/Users/home_folder/Documents/qrscanner/qrscanner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/home_folder/Documents/qrscanner/qrscanner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/home_folder/Documents/qrscanner/qrscanner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import axios from\"axios\";import\"./LoginForm.css\";import{API_BASE_URL,ACCESS_TOKEN_NAME}from\"../../constants/apiConstants\";import{withRouter}from\"react-router-dom\";var user=\"alex\";var password=\"pass2021\";function LoginForm(props){var _useState=useState({email:\"\",password:\"\",successMessage:null}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var handleChange=function handleChange(e){var _e$target=e.target,id=_e$target.id,value=_e$target.value;setState(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},id,value));});};var handleSubmitClick=function handleSubmitClick(e){e.preventDefault();var payload={user:\"\",password:\"\"};// axios.post(API_BASE_URL+'/user/login', payload)\n//     .then(function (response) {\n// if(response.status === 200){\n//     setState(prevState => ({\n//         ...prevState,\n//         'successMessage' : 'Login successful. Redirecting to home page..'\n//     }))\n//             localStorage.setItem(ACCESS_TOKEN_NAME,response.data.token);\nif(payload.password==\"pass2021\"&&payload.user==\"alex\"){redirectToHome();props.showError(null);}//     else if(response.code === 204){\n//         props.showError(\"Username and password do not match\");\n//     }\n//     else{\n//         props.showError(\"Username does not exists\");\n//     }\n// })\n// .catch(function (error) {\n//     console.log(error);\n// });\n};var redirectToHome=function redirectToHome(){props.updateTitle(\"Home\");props.history.push(\"/order-status\");};var redirectToRegister=function redirectToRegister(){props.history.push(\"/register\");props.updateTitle(\"Register\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"card col-12 col-lg-4 login-card mt-2 hv-center\",children:[/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group text-left\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputEmail1\",children:\"User\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"email\",\"aria-describedby\":\"emailHelp\",placeholder:\"Enter Username\",value:state.email,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group text-left\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputPassword1\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"password\",placeholder:\"Password\",value:state.password,onChange:handleChange})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-check\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",onClick:handleSubmitClick,children:\"Submit\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-success mt-2\",style:{display:state.successMessage?\"block\":\"none\"},role:\"alert\",children:state.successMessage}),/*#__PURE__*/_jsxs(\"div\",{className:\"registerMessage\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Dont have an account? \"}),/*#__PURE__*/_jsx(\"span\",{className:\"loginText\",onClick:function onClick(){return redirectToRegister();},children:\"Register\"})]})]});}export default withRouter(LoginForm);","map":{"version":3,"sources":["/Users/home_folder/Documents/qrscanner/qrscanner/src/components/LoginForm/LoginForm.js"],"names":["React","useState","axios","API_BASE_URL","ACCESS_TOKEN_NAME","withRouter","user","password","LoginForm","props","email","successMessage","state","setState","handleChange","e","target","id","value","prevState","handleSubmitClick","preventDefault","payload","redirectToHome","showError","updateTitle","history","push","redirectToRegister","display"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport \"./LoginForm.css\";\nimport { API_BASE_URL, ACCESS_TOKEN_NAME } from \"../../constants/apiConstants\";\nimport { withRouter } from \"react-router-dom\";\n\n\n\tvar user=  \"alex\"\n\tvar\tpassword= \"pass2021\"\nfunction LoginForm(props) {\n\tconst [state, setState] = useState({\n\t\temail: \"\",\n\t\tpassword: \"\",\n\t\tsuccessMessage: null,\n\t});\n\tconst handleChange = (e) => {\n\t\tconst { id, value } = e.target;\n\t\tsetState((prevState) => ({\n\t\t\t...prevState,\n\t\t\t[id]: value,\n\t\t}));\n\t};\n\n\tconst handleSubmitClick = (e) => {\n\t\te.preventDefault();\n\t\tconst payload = {\n\t\t\tuser: \"\",\n\t\t\tpassword: \"\",\n\t\t};\n\t\t// axios.post(API_BASE_URL+'/user/login', payload)\n\t\t//     .then(function (response) {\n\t\t// if(response.status === 200){\n\t\t//     setState(prevState => ({\n\t\t//         ...prevState,\n\t\t//         'successMessage' : 'Login successful. Redirecting to home page..'\n\t\t//     }))\n\t\t//             localStorage.setItem(ACCESS_TOKEN_NAME,response.data.token);\n\n\t\tif (payload.password == \"pass2021\" && payload.user == \"alex\") {\n\t\t\tredirectToHome();\n\n\t\t\tprops.showError(null);\n\t\t}\n\t\t//     else if(response.code === 204){\n\t\t//         props.showError(\"Username and password do not match\");\n\t\t//     }\n\t\t//     else{\n\t\t//         props.showError(\"Username does not exists\");\n\t\t//     }\n\t\t// })\n\t\t// .catch(function (error) {\n\t\t//     console.log(error);\n\t\t// });\n\t};\n\tconst redirectToHome = () => {\n\t\tprops.updateTitle(\"Home\");\n\t\tprops.history.push(\"/order-status\");\n\t};\n\tconst redirectToRegister = () => {\n\t\tprops.history.push(\"/register\");\n\t\tprops.updateTitle(\"Register\");\n\t};\n\treturn (\n\t\t<div className=\"card col-12 col-lg-4 login-card mt-2 hv-center\">\n\t\t\t<form>\n\t\t\t\t<div className=\"form-group text-left\">\n\t\t\t\t\t<label htmlFor=\"exampleInputEmail1\">User</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\taria-describedby=\"emailHelp\"\n\t\t\t\t\t\tplaceholder=\"Enter Username\"\n\t\t\t\t\t\tvalue={state.email}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t/>\n\t\t\t\t\t{/* <small id=\"emailHelp\" className=\"form-text text-muted\">\n\t\t\t\t\t\tWe'll never share your email with anyone else.\n\t\t\t\t\t</small> */}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"form-group text-left\">\n\t\t\t\t\t<label htmlFor=\"exampleInputPassword1\">Password</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\t\tvalue={state.password}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"form-check\"></div>\n\t\t\t\t<button type=\"submit\" className=\"btn btn-primary\" onClick={handleSubmitClick}>\n\t\t\t\t\tSubmit\n\t\t\t\t</button>\n\t\t\t</form>\n\t\t\t<div\n\t\t\t\tclassName=\"alert alert-success mt-2\"\n\t\t\t\tstyle={{ display: state.successMessage ? \"block\" : \"none\" }}\n\t\t\t\trole=\"alert\">\n\t\t\t\t{state.successMessage}\n\t\t\t</div>\n\t\t\t<div className=\"registerMessage\">\n\t\t\t\t<span>Dont have an account? </span>\n\t\t\t\t<span className=\"loginText\" onClick={() => redirectToRegister()}>\n\t\t\t\t\tRegister\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default withRouter(LoginForm);\n"]},"metadata":{},"sourceType":"module"}