(this.webpackJsonpsexycakes=this.webpackJsonpsexycakes||[]).push([[0],{100:function(e,t,s){"use strict";s.r(t);var a=s(1),c=s(0),r=s.n(c),n=s(22),o=s.n(n),l=(s(64),s(15)),i=(s(65),s(7)),d=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SERVER_URL,j="login_access_token";var u=Object(i.g)((function(e){var t,s="string"!==typeof(t=e.location.pathname.substring(1,e.location.pathname.length))?"":t.charAt(0).toUpperCase()+t.slice(1);return"/"===e.location.pathname&&(s="SexyCakes Tracker Panel"),Object(a.jsx)("nav",{className:"navbar navbar-dark bg-primary",children:Object(a.jsxs)("div",{className:"row col-12 d-flex justify-content-center text-white",children:[Object(a.jsx)("span",{className:"h3",children:e.title||s}),function(){if("/home"===e.location.pathname)return Object(a.jsx)("div",{className:"ml-auto",children:Object(a.jsx)("button",{className:"btn btn-danger",onClick:function(){return localStorage.removeItem(j),void e.history.push("/login")},children:"Logout"})})}()]})})})),b=s(13),h=s(11),m=s(21),O=s.n(m);s(92);var p=Object(i.g)((function(e){var t=Object(c.useState)({email:"",password:"",successMessage:null}),s=Object(l.a)(t,2),r=s[0],n=s[1],o=function(e){var t=e.target,s=t.id,a=t.value;n((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(b.a)({},s,a))}))},i=function(){e.updateTitle("Home"),e.history.push("/order-status")};return Object(a.jsxs)("div",{className:"card col-12 col-lg-4 login-card mt-2 hv-center",children:[Object(a.jsxs)("form",{children:[Object(a.jsxs)("div",{className:"form-group text-left",children:[Object(a.jsx)("label",{htmlFor:"exampleInputEmail1",children:"User"}),Object(a.jsx)("input",{type:"email",className:"form-control",id:"email","aria-describedby":"emailHelp",placeholder:"Enter Username",value:r.email,onChange:o})]}),Object(a.jsxs)("div",{className:"form-group text-left",children:[Object(a.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Password"}),Object(a.jsx)("input",{type:"password",className:"form-control",id:"password",placeholder:"Password",value:r.password,onChange:o})]}),Object(a.jsx)("div",{className:"form-check"}),Object(a.jsx)("button",{type:"submit",className:"btn btn-primary",onClick:function(t){t.preventDefault(),"pass2021"==""&&"alex"==""&&(i(),e.showError(null))},children:"Submit"})]}),Object(a.jsx)("div",{className:"alert alert-success mt-2",style:{display:r.successMessage?"block":"none"},role:"alert",children:r.successMessage}),Object(a.jsxs)("div",{className:"registerMessage",children:[Object(a.jsx)("span",{children:"Dont have an account? "}),Object(a.jsx)("span",{className:"loginText",onClick:function(){return e.history.push("/register"),void e.updateTitle("Register")},children:"Register"})]})]})})),x=s(120),f=s(121),g=s(122),v=s(119),w=s(31),y=s.n(w),N=s(48),S=s(49),E=s(56),k=s(54),C=(c.Component,Object(i.g)((function(){var e=Object(c.useState)({email:"",password:"",confirmPassword:"",successMessage:null,orderID:"",status:"",ready:!1}),t=Object(l.a)(e,2),s=t[0],r=t[1],n=Object(c.useState)(""),o=Object(l.a)(n,2),i=o[0],d=o[1],j=Object(c.useState)(!1),u=Object(l.a)(j,2),b=u[0],m=u[1],p=function(){m(!b),console.log(b)},w=function(e){return e&&void 0!==typeof e&&(O.a.get("https://us-central1-saymile-a29fa.cloudfunctions.net/api/getKitchenStatus/".concat(e)).then((function(e){return d(e.data.kitchen_status)})).catch((function(e){return alert(e)})),console.log(i)),p(),i};return Object(a.jsxs)("div",{className:"card col-12 col-lg-4 login-card mt-2 hv-center",children:[Object(a.jsxs)("form",{children:[Object(a.jsx)("div",{children:Object(a.jsxs)("h2",{children:["Order:",s.orderID]})}),Object(a.jsxs)("h3",{children:["Current Status:",i]}),Object(a.jsx)("div",{className:"form-group text-left"})]}),Object(a.jsx)("div",{className:"alert alert-success mt-2",style:{display:s.successMessage?"block":"none"},role:"alert",children:s.successMessage}),Object(a.jsx)("button",{type:"submit",className:"btn btn-primary",onClick:function(){return p()},children:"Scan"}),Object(a.jsx)(x.a,{component:"fieldset",children:Object(a.jsxs)(f.a,{style:{display:"flex",flexDirection:"row"},name:"Status",onChange:function(e){var t=e.target,s=(t.id,t.value);d(s),console.log(i)},children:[Object(a.jsx)(g.a,{value:"order received, ",control:Object(a.jsx)(v.a,{}),label:"Order Received,"}),Object(a.jsx)(g.a,{value:"cooking",control:Object(a.jsx)(v.a,{}),label:"Cooking"}),Object(a.jsx)(g.a,{value:"left kitchen, ",control:Object(a.jsx)(v.a,{}),label:"Left Kitchen"}),Object(a.jsx)(g.a,{value:"on campus",control:Object(a.jsx)(v.a,{}),label:"On Campus"}),Object(a.jsx)(g.a,{value:"delivered",control:Object(a.jsx)(v.a,{}),label:"Delivered"})]})}),b&&Object(a.jsx)("div",{children:Object(a.jsx)(y.a,{delay:300,onError:function(e){console.error(e)},onScan:function(e){e&&b&&(r(Object(h.a)(Object(h.a)({},s),{},{orderID:e})),w(e))},style:{width:200,height:100}})}),Object(a.jsx)("br",{}),Object(a.jsx)("button",{type:"submit",className:"btn btn-primary",onClick:function(){return function(e){if(void 0!==s.orderID){var t=JSON.stringify({delivery_id:s.orderID,kitchen_status:i});console.log(t),fetch("https://us-central1-saymile-a29fa.cloudfunctions.net/api/updateKitchenStatus",{method:"POST",mode:"cors",body:t}).then((function(e){return 200==e.status?alert("Updated Successfully"):alert("failed to update")})).catch((function(e){return alert(e)}))}}()},children:"Update"})]})})));s(97);var P=Object(i.g)((function(e){var t=Object(c.useState)({email:"",password:"",confirmPassword:"",successMessage:null}),s=Object(l.a)(t,2),r=s[0],n=s[1],o=function(e){var t=e.target,s=t.id,a=t.value;n((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(b.a)({},s,a))}))},i=function(){e.updateTitle("Home"),e.history.push("/home")};return Object(a.jsxs)("div",{className:"card col-12 col-lg-4 login-card mt-2 hv-center",children:[Object(a.jsxs)("form",{children:[Object(a.jsxs)("div",{className:"form-group text-left",children:[Object(a.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Email address"}),Object(a.jsx)("input",{type:"email",className:"form-control",id:"email","aria-describedby":"emailHelp",placeholder:"Enter email",value:r.email,onChange:o}),Object(a.jsx)("small",{id:"emailHelp",className:"form-text text-muted",children:"We'll never share your email with anyone else."})]}),Object(a.jsxs)("div",{className:"form-group text-left",children:[Object(a.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Password"}),Object(a.jsx)("input",{type:"password",className:"form-control",id:"password",placeholder:"Password",value:r.password,onChange:o})]}),Object(a.jsxs)("div",{className:"form-group text-left",children:[Object(a.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Confirm Password"}),Object(a.jsx)("input",{type:"password",className:"form-control",id:"confirmPassword",placeholder:"Confirm Password",value:r.confirmPassword,onChange:o})]}),Object(a.jsx)("button",{type:"submit",className:"btn btn-primary",onClick:function(t){t.preventDefault(),r.password===r.confirmPassword?function(){if(r.email.length&&r.password.length){e.showError(null);var t={email:r.email,password:r.password};O.a.post(d+"/user/register",t).then((function(t){200===t.status?(n((function(e){return Object(h.a)(Object(h.a)({},e),{},{successMessage:"Registration successful. Redirecting to home page.."})})),localStorage.setItem(j,t.data.token),i(),e.showError(null)):e.showError("Some error ocurred")})).catch((function(e){console.log(e)}))}else e.showError("Please enter valid username and password")}():e.showError("Passwords do not match")},children:"Register"})]}),Object(a.jsx)("div",{className:"alert alert-success mt-2",style:{display:r.successMessage?"block":"none"},role:"alert",children:r.successMessage}),Object(a.jsxs)("div",{className:"mt-2",children:[Object(a.jsx)("span",{children:"Already have an account? "}),Object(a.jsx)("span",{className:"loginText",onClick:function(){return e.updateTitle("Login"),void e.history.push("/login")},children:"Login here"})]})]})}));var I=Object(i.g)((function(e){function t(){e.history.push("/login")}return Object(c.useEffect)((function(){O.a.get(d+"/user/me",{headers:{token:localStorage.getItem(j)}}).then((function(e){200!==e.status&&t()})).catch((function(e){t()}))})),Object(a.jsx)("div",{className:"mt-2",children:"Home page content"})})),T=s(55);var _=function(e){var t=e.children,s=Object(T.a)(e,["children"]);return Object(a.jsx)(i.b,Object(h.a)(Object(h.a)({},s),{},{render:function(e){var s=e.location;return localStorage.getItem(j)?t:Object(a.jsx)(i.a,{to:{pathname:"/login",state:{from:s}}})}}))},D=s(20);s(98);var M=function(e){var t=Object(c.useState)("none"),s=Object(l.a)(t,2),r=s[0],n=s[1],o=function(){n("none"),e.hideError(null)};return Object(c.useEffect)((function(){null!==e.errorMessage?n("block"):o()})),Object(a.jsx)("div",{className:"alert alert-danger alert-dismissable mt-4",role:"alert",id:"alertPopUp",style:{display:r},children:Object(a.jsxs)("div",{className:"d-flex alertMessage",children:[Object(a.jsx)("span",{children:e.errorMessage}),Object(a.jsx)("button",{type:"button",className:"close","aria-label":"Close",onClick:function(){return o()},children:Object(a.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]})})};var R=function(){var e=Object(c.useState)(null),t=Object(l.a)(e,2),s=t[0],r=t[1],n=Object(c.useState)(null),o=Object(l.a)(n,2),d=o[0],j=o[1];return Object(a.jsx)(D.a,{children:Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(u,{title:s}),Object(a.jsxs)("div",{className:"container d-flex align-items-center flex-column",children:[Object(a.jsxs)(i.d,{children:[Object(a.jsx)(i.b,{path:"/",exact:!0,children:Object(a.jsx)(C,{orderID:1,showError:j})}),Object(a.jsx)(i.b,{path:"/order-status",children:Object(a.jsx)(C,{orderID:1,showError:j})}),Object(a.jsx)(i.b,{path:"/register",children:Object(a.jsx)(P,{showError:j,updateTitle:r})}),Object(a.jsx)(i.b,{path:"/login",children:Object(a.jsx)(p,{showError:j,updateTitle:r})}),Object(a.jsx)(_,{path:"/home",children:Object(a.jsx)(I,{})})]}),Object(a.jsx)(M,{errorMessage:d,hideError:j})]})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(R,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},64:function(e,t,s){},65:function(e,t,s){},92:function(e,t,s){},97:function(e,t,s){},98:function(e,t,s){}},[[100,1,2]]]);
//# sourceMappingURL=main.541d8b47.chunk.js.map